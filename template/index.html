<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚¤ãƒ¯ã‚·tube</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="logo">ğŸŸ</div>
  <div class="title">ã‚¤ãƒ¯ã‚·tube</div>
</header>

<form class="search-bar" onsubmit="search();return false;">
  <input id="q" placeholder="æ¤œç´¢">
</form>

<a class="fav-btn" href="favorites.html">â­ ãŠæ°—ã«å…¥ã‚Š</a>

<div id="grid" class="grid"></div>

<script>
async function search(){
  const q = document.getElementById("q").value;
  const res = await fetch(`/api/search?q=${encodeURIComponent(q)}`);
  const data = await res.json();

  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  data.forEach(v=>{
    grid.innerHTML += `
      <a class="card" href="watch.html?v=${v.videoId}">
        <img src="https://i.ytimg.com/vi/${v.videoId}/hqdefault.jpg">
        <div class="card-title">${v.title}</div>
      </a>
    `;
  });
}
</script>

</body>
</html>
